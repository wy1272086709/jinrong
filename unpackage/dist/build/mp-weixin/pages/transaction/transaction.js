(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/transaction/transaction"],{"2a95":function(e,t,n){"use strict";var i=n("f3b8"),r=n.n(i);r.a},"73f3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n("a34a")),r=n("2f62"),o=n("985d"),a=n("aceb"),s=n("ab5d"),l=n("6cda");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return d(e)||h(e,t)||g(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),t&&n.length===t)break}catch(l){r=!0,o=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw o}}return n}}function d(e){if(Array.isArray(e))return e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){b(o,i,r,a,s,"next",e)}function s(e){b(o,i,r,a,s,"throw",e)}a(void 0)}))}}var x=function(){n.e("components/easy-select").then(function(){return resolve(n("5d5e"))}.bind(null,n)).catch(n.oe)},_=function(){n.e("components/single_select_row").then(function(){return resolve(n("11f6"))}.bind(null,n)).catch(n.oe)},S=function(){n.e("components/delegate-component-item").then(function(){return resolve(n("7bc7"))}.bind(null,n)).catch(n.oe)},L=1,O=1,I={data:function(){return{item:{},showModal:!1,quality:"",price:"",loss_price:"",currencyPair:"",profit_price:"",priceDisabled:!1,loss_delta:"",title1:"",value1:"",showExitMsg:!1,drawVisible:!1,options1:[],userListHeight:"",msg:"",showMsg:!1,msg1:"",showMsg1:!1,current:0,activeTabIndex:0,qualityBtnIndex:-1,gangganglv:"",lineHeight:"",basicInfoList:[{name:"initial_capital",val:"",label:"初始资金:"},{name:"contract_multiplier",val:"",label:"合约乘数:"},{name:"total_amount",val:"",label:"当前资金:"},{name:"exchange",val:"",label:"交易所:"},{name:"leverage",val:"",label:"杠杆率:"},{name:"swap_exchange",val:"",label:"交易代码:"},{name:"contract",val:"",label:"合约:"}],sName:"",scrollHeight:"",strategyIncomeInfo:{strategyValue:""},qualityPlaceHoladerText:"",delegateRow:{},delegateLogList:[],curDelegateOption:{label:"限价单",value:"LIMIT"},value2:2,qualityVal:"",storeRes:[],sid:"",curStatusOption:{},viewHeight:"",swiperHeight:"",adjust_items:[],status:"loadmore",holderValue:"请输入价格",strategyMenuHeight:""}},onLoad:function(t){var n=this;return y(i.default.mark((function r(){var o,a;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log("option:"+JSON.stringify(t)),o=e.getSystemInfoSync(),n.lineHeight=o.statusBarHeight,n.isIphoneX=getApp().globalData.isIphoneX,a=n.isIphoneX?e.upx2px(68):0,console.log("iphoneXpadding:"+a),n.swiperHeight=o.windowHeight-e.upx2px(52),n.strategyMenuHeight=n.swiperHeight-a,n.scrollHeight=o.windowHeight-e.upx2px(52)-e.upx2px(82)-a-e.upx2px(712)-14+"px",n.viewHeight=o.windowHeight-e.upx2px(52)-e.upx2px(82),n.userListHeight=o.windowHeight-o.statusBarHeight-30-26+"px";case 11:case"end":return i.stop()}}),r)})))()},onShow:function(){this.initTrasactionPage()},beforeDestroy:function(){console.log("beforeDestroy ...."),this.interval&&clearInterval(this.interval)},onHide:function(){console.log("onHIde ...."),this.interval&&clearInterval(this.interval)},onReachBottom:function(){var e=this;setTimeout((function(){L>O||L++,e.status="nomore"}),500)},components:{easySelect:x,singleSelectRow:_,delegateComponentItem:S},computed:m(m({},(0,r.mapState)(["strategistId"])),{},{userList:function(){var t=e.getStorageSync("wx_strategist_list");return t?JSON.parse(t):[]},userName:function(){return this.$store.state&&this.$store.state.userName?this.$store.state.userName:e.getStorageSync("wx_login_username")},canSwithStrategIst:function(){return!(Object.keys(this.userList).length<=0)}}),methods:{focusHanlder:function(){this.hideOption()},openDropdown:function(){},initSNameInfo:function(){var e=this;return y(i.default.mark((function t(){var n,r;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.getTransactionInfoList)(e.strategistId,2,-1,"");case 2:n=t.sent,n.strategy_list.length>0?(r=n.strategy_list,e.options1=e.transformListToPairs(r),e.value1=e.options1[0].value,e.title1=e.options1[0].label,e.sid=e.value1,e.sName=e.sNameMap[e.value1]):(e.options1=[],e.interval&&clearInterval(e.interval));case 4:case"end":return t.stop()}}),t)})))()},initTrasactionPage:function(){var e=this;return y(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initSNameInfo();case 2:e.options1.length>0&&e.switchStrategyFunc();case 3:case"end":return t.stop()}}),t)})))()},switchStrategyFunc:function(){var e=this;return y(i.default.mark((function t(){var n,r,a,s,u,f,g,p,h;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[(0,o.getSingleStrategyStatData)(e.sName).catch((function(e){return e})),(0,l.getVolumeLimit)(e.sid).catch((function(e){return e})),(0,l.getDelegateLogList)(e.sid).catch((function(e){return e}))],t.next=3,Promise.all(n);case 3:if(r=t.sent,a=c(r,3),s=a[0],u=a[1],f=a[2],e.basicInfoList[0].val=void 0!==s.initial_capital?s.initial_capital:"",e.basicInfoList[2].val=void 0!==s.total_amount?s.total_amount:"",e.basicInfoList[4].val=void 0!==s.leverage?s.leverage:"",e.basicInfoList[6].val=void 0!==s.swap_exchange&&void 0!==s.swap_exchange.trading?s.swap_exchange.trading:"",e.basicInfoList[1].val=void 0!==s.contract_multiplier?s.contract_multiplier:"",e.basicInfoList[3].val=void 0!==s.swap_exchange&&void 0!==s.swap_exchange.exchange?s.swap_exchange.exchange:"",e.basicInfoList[5].val=void 0!==s.swap_exchange&&void 0!==s.swap_exchange.currency?s.swap_exchange.currency:"",e.gangganglv=e.basicInfoList[4].val+"X",console.log("transation_result:"+JSON.stringify(s)),Array.isArray(s)||(e.strategyIncomeInfo.strategyValue=s.price_now,e.currencyPair=s.swap_exchange.currency,console.log("asdsd",e.currencyPair)),u&&void 0!==u.buy_limit?(console.log("volume:",u),e.maxQuality=u.buy_limit):(console.log("catch hehehe"),e.maxQuality="",u={buy_limit:0}),e.qualityPlaceHoladerText="最多可开约"+e.maxQuality,g=String(u.buy_limit).split("."),void 0!==g[1]?(p=g[1].length,e.sliderStep=1/Math.pow(10,p)):e.sliderStep=0,Array.isArray(f)&&f.length>0){for(h=0;h<f.length;h++)f[h].info=e.basicInfoList[1].val;e.delegateLogList=f}else e.delegateLogList=[];e.interval&&clearInterval(e.interval),e.interval=setInterval(y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getSingleStrategyStatData)(e.sName);case 2:n=t.sent,Array.isArray(n)||void 0===n.price_now||(e.strategyIncomeInfo.strategyValue=n.price_now,e.getStoreResByPositions(n.positions),"MARKET"==e.curDelegateOption.value?(e.holderValue=e.strategyIncomeInfo.strategyValue+"",console.log("now price is,",e.holderValue)):e.holderValue="请输入价格");case 4:case"end":return t.stop()}}),t)}))),5e3);case 25:case"end":return t.stop()}}),t)})))()},transformListToPairs:function(e){for(var t=e.length,n=[],i={},r=0;r<t;r++){var o=e[r].sname,a=o.indexOf("."),s=o.substring(0,a);i[e[r].id]=o,n.push({value:e[r].id,label:s})}return this.sNameMap=i,n},showUserList:function(t){console.log("showUserList:e"+t);var n=this;e.hideTabBar({animation:!0,success:function(){console.log("hideTabBar success!"),n.showDrawer("showLeft")}})},showDrawer:function(e){this.drawVisible=!0},switchStrategist:function(e){this.$store.commit("setStrategistId",e),this.$refs["showLeft"].close(),this.initTrasactionPage()},getEditFormLabel:function(e){var t={volume:"数量",price:"价格",open_price:"正仓价",prof_price:"止盈价",loss_price:"止损价",loss_delta:"止损间距"};return t[e]},closeDropdown:function(){},changeValue1:function(e){console.log("change Value1:"),console.log(e);var t=this.options1.findIndex((function(t){return t.value==e}));this.value1=this.sid=this.options1[t].value,this.title1=this.options1[t].label,this.sName=this.sNameMap[this.sid],this.switchStrategyFunc()},logout:function(){this.showExitMsg=!0},confirmLogout:function(){console.log("用户点击了确定!"),this.$refs["showLeft"].close(),this.$store.commit("logout"),e.removeStorageSync("wx_login_username"),e.removeStorageSync("wx_login_password"),e.removeStorageSync("wx_strategist_list"),e.reLaunch({url:"/pages/user/login_v2"})},oneKeyPingFunc:function(e){e.pos>0&&this.oneKeyPingDuo(),e.pos<0&&this.oneKeyPingKong()},qualitySelect:function(e){this.qualityBtnIndex=e;var t=[.1,.25,.5,1],n=String(this.maxQuality).split("."),i=0;void 0!==n[1]&&(i=n[1].length),this.qualityVal=parseFloat(t[e]*this.maxQuality).toFixed(i)},getColor:function(e){if(void 0===e)return"#ffffff";var t="";return 0==e?t="#FB3F69":e>0?t="#0BF4FD":e<0&&(t="#FB3F69"),t},validateQuality:function(t){t>this.maxQuality&&e.showToast({icon:"none",title:"可用量不足"})},calculateKaiduoPrice:function(){if(0==this.delegateLogList.length)return 0;var e=this.delegateLogList,t=e.filter((function(e,t){return-1!==e.description.indexOf("开多")}));return console.log(JSON.stringify(t)),t.length>0?this.calculateAvgPrice(t):0},calculateKaikongPrice:function(){if(0==this.delegateLogList.length)return 0;var e=this.delegateLogList,t=e.filter((function(e,t){return-1!==e.description.indexOf("开空")}));return t.length>0?this.calculateAvgPrice(t):0},calculateAvgPrice:function(e){console.log(e);for(var t=e.length,n=0,i=0;i<t;i++){var r="市价单"==e[i].cname?e[i].open_price?e[i].open_price:0:e[i].price?e[i].price:0,o=String(e[i].volume),a=o.split("/"),s=void 0!==a[1]?parseFloat(a[1]):0;n+=parseFloat(r)*s}console.log("sum"+n);for(var l=e.length,u=0,c=0;c<l;c++){var f=String(e[c].volume),g=f.split("/"),p=void 0!==g[1]?g[1]:0;u+=parseFloat(p)}var h=parseFloat(n)/parseFloat(u),d=h.toFixed(2);return console.log(d),d},oneKeyPingDuo:function(){var e=this;return y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.oneKeyDoneFunc)(e.strategistId,e.sid,"long");case 2:n=t.sent,1==n.status?(e.showMsg=!0,e.msg=n.msg,setTimeout((function(){e.refreshList()}),2500)):(e.showMsg=!0,e.msg=n.msg);case 4:case"end":return t.stop()}}),t)})))()},oneKeyPingKong:function(){var e=this;return y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,s.oneKeyDoneFunc)(e.strategistId,e.sid,"short");case 2:n=t.sent,1==n.status?(e.showMsg=!0,e.msg=n.msg,setTimeout((function(){e.refreshList()}),2500)):(e.showMsg=!0,e.msg=n.msg);case 4:case"end":return t.stop()}}),t)})))()},pingFunc1:function(){var e=this;return y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("pingfunc1"+e.item.id),t.next=3,(0,l.conditionPing)(e.sid,e.item.id);case 3:n=t.sent,1==n.status&&(console.log("pingfunc1"),e.showMsg=!0,e.msg=n.msg,setTimeout((function(){e.refreshList()}),2500));case 5:case"end":return t.stop()}}),t)})))()},pingFunc:function(e){var t=this;return y(i.default.mark((function n(){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("pingfun"+e),t.showMsg1=!0,t.msg1="你确定要平仓吗?",t.item=e,console.log("pingfun"+t.item);case 5:case"end":return n.stop()}}),n)})))()},refreshList:function(){var e=this;return y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.getDelegateLogList)(e.sid);case 2:n=t.sent,console.log("refresh list..."+JSON.stringify(n)),e.delegateLogList=n;case 5:case"end":return t.stop()}}),t)})))()},getDelegateStatus:function(e){var t={WAIT_OPEN:"等待开仓",OPENING:"正在开仓",WAIT_CLOSE:"等待平仓",CLOSING:"正在平仓",COMPLETE:"条件完成",INVALID:"条件无效"};return t[e]?t[e]:""},showDelegateForm:function(e){if(e.modifiable_item.length<=0)return this.showMsg=!0,void(this.msg="该委托暂时不能修改");this.showModal=!0,console.log("item"+JSON.stringify(e));for(var t=e.modifiable_item,n=t.length,i=[],r=0;r<n;r++)"is_force"!=t[r]&&i.push(t[r]);this.adjust_items=i,this.delegateRow=e},confirmDelete:function(){},sliderChange:function(e){console.log(e);var t=String(this.sliderStep).split("."),n=void 0!==t[1]?t[1].length:0;this.qualityVal=String(parseFloat(e.detail.value).toFixed(n))},saveDelegateForm:function(){var e=this;return y(i.default.mark((function t(){var n,r,o,s,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(){var t=y(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.getDelegateLogList)(e.sid);case 2:n=t.sent,console.log("refresh list..."+JSON.stringify(n)),e.delegateLogList=n;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.showModal=!1,r=e.adjust_items,o=e.delegateRow,console.log("row:"+JSON.stringify(o)),s=(0,a.getDataFromKeys)(r,o),t.next=8,(0,l.conditionUpdate)(e.sid,o.id,s);case 8:u=t.sent,console.log(u),1==u.status?(e.showMsg=!0,e.msg=u.msg,setTimeout((function(){n()}),2500)):(e.showMsg=!0,e.msg=u.msg);case 11:case"end":return t.stop()}}),t)})))()},deleteDelegate:function(e){var t=this;return y(i.default.mark((function n(){var r,o,a,s,u;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.modifiable_item,-1===r.indexOf("is_force")){n.next=5;break}return t.msg="该委托暂时不能删除",t.showMsg=!0,n.abrupt("return");case 5:o=e.id,a=function(){var e=y(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getDelegateLogList)(t.sid);case 2:n=e.sent,t.delegateLogList=n;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=y(i.default.mark((function e(n,r){var o;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.conditionDel)(n,r);case 2:o=e.sent,1==o.status?(t.msg=o.msg,t.showMsg=!0,setTimeout((function(){a()}),2500)):(t.msg=o.msg,t.showMsg=!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=t.sid,s(u,o);case 10:case"end":return n.stop()}}),n)})))()},buyKaiDuo:function(){var e=this;return y(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$u.throttle((function(){e.buyOrSell("LONG")}),2e3);case 1:case"end":return t.stop()}}),t)})))()},sellKaiKong:function(){var e=this;return y(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$u.throttle((function(){e.buyOrSell("SHORT")}),2e3);case 1:case"end":return t.stop()}}),t)})))()},buyOrSell:function(t){var n=this;return y(i.default.mark((function r(){var o,a,s,u;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=n.curDelegateOption.value,0,!(parseFloat(n.qualityVal)<=0)){r.next=5;break}return e.showToast({title:"数量必须大于0",icon:"none"}),r.abrupt("return");case 5:if(!(void 0!==o&&"MARKET"!=o&&n.price<=0)){r.next=8;break}return e.showToast({icon:"none",title:"委托类型不为市价单时，此项必须大于0!"}),r.abrupt("return");case 8:if(!(parseFloat(n.qualityVal)>parseFloat(n.maxQuality)||parseFloat(n.qualityVal)<0)){r.next=11;break}return e.showToast({icon:"none",title:"可用量不足"}),r.abrupt("return");case 11:if(void 0===n.curDelegateOption.value||"MARKET"==n.curDelegateOption.value){r.next=24;break}if(!(parseFloat(n.profit_price)<=parseFloat(n.price)&&"LONG"==t)){r.next=15;break}return e.showToast({icon:"none",title:"买入开多,且委托类型不为市价单时候,止盈价应该大于开仓价"}),r.abrupt("return");case 15:if(!(parseFloat(n.loss_price)>=parseFloat(n.price)&&"LONG"==t)){r.next=18;break}return e.showToast({icon:"none",title:"买入开多,且委托类型不为市价单时候,止损价应该小于开仓价"}),r.abrupt("return");case 18:if(!(parseFloat(n.loss_price)<=parseFloat(n.price)&&"SHORT"==t)){r.next=21;break}return e.showToast({icon:"none",title:"卖出开空,且委托类型不为市价单时候,止损价应该大于开仓价"}),r.abrupt("return");case 21:if(!(parseFloat(n.profit_price)>=parseFloat(n.price)&&"SHORT"==t)){r.next=24;break}return e.showToast({icon:"none",title:"卖出开空,且委托类型不为市价单时候,止盈价应该小于开仓价"}),r.abrupt("return");case 24:return a={type:o,price:parseFloat(n.price),loss_price:parseFloat(n.loss_price),prof_price:parseFloat(n.profit_price),loss_delta:parseFloat(n.loss_delta),volume:n.qualityVal,direction:t},console.log("params",a),r.next=28,(0,l.conditionCreate)(a,n.sid);case 28:s=r.sent,console.log("resp"+JSON.stringify(s)),1==s.status?(n.showMsg=!0,n.msg=s.msg,u=function(){var e=y(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getDelegateLogList)(n.sid);case 2:for(t=e.sent,r=0;r<t.length;r++)t[r].info=n.basicInfoList[1].val;n.delegateLogList=t;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTimeout((function(){u()}),2500)):(n.showMsg=!0,n.msg=s.msg);case 31:case"end":return r.stop()}}),r)})))()},gotoStrategyDetail:function(){e.navigateTo({url:"/pages/transaction/strategy_detail?sName="+this.sName})},hideOption:function(){console.log("hideOptions"),0==this.activeTabIndex&&void 0!==this.$refs.delegateSelectRef&&void 0!==this.$refs.delegateSelectRef.hideOption&&this.$refs.delegateSelectRef.hideOptions()},selectStatus:function(e){this.curStatusOption=e},closeDrawer:function(t){var n=this;e.showTabBar({animation:!0,success:function(){console.log("hideTabBar success!"),n.drawVisible=!1}}),console.log("close closeDrawer")},changeDelegatePrice:function(e){console.log("e changeDelegatePrice:"+JSON.stringify(e))},changePrice:function(e){console.log("e changePrice:"+JSON.stringify(e)),this.price=e},changeQuality:function(t){console.log("e change quality:"+JSON.stringify(t));var n=t.detail.value.split(".");if(n[1],parseFloat(t.detail.value)>parseFloat(this.maxQuality))this.qualityVal=String(this.maxQuality),e.showToast({title:"可用量不足",icon:"none"});else{var i=String(this.maxQuality).split(".");if(void 0!=i[1]){var r=i[1].length,o=String(t.detail.value).split(".");if(o.length>1){var a=o[1].length;a>r&&(this.qualityVal=parseFloat(t.detail.value).toFixed(r))}}}},changeStopProfitPrice:function(e){console.log("e changeStopProfitPrice"+JSON.stringify(e)),this.profit_price=e},changeLossDelta:function(e){this.loss_delta=e,console.log("e changeLossDelta:"+JSON.stringify(e))},changeStopLossPrice:function(e){console.log("e changeStopLossPrice"+JSON.stringify(e)),this.loss_price=e},selectDelegate:function(e){this.curDelegateOption=e,console.log("option"+JSON.stringify(e)),"MARKET"==e.value?(this.price=0,this.priceDisabled=!0,this.holderValue=this.strategyIncomeInfo.strategyValue):(this.priceDisabled=!1,this.holderValue="请输入价格")},switchTab:function(e){var t=this;return y(i.default.mark((function n(){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("switchTab..."),t.activeTabIndex=e;case 2:case"end":return n.stop()}}),n)})))()},switchTabFunc:function(e){var t=this;return y(i.default.mark((function n(){return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.status="nomore",console.log("switchTabFunc..."),0==e||1==e&&setTimeout(y(i.default.mark((function e(){var n,r;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.getSingleStrategyStatData)(t.sName);case 2:n=e.sent,r=n.positions,t.getStoreResByPositions(r);case 5:case"end":return e.stop()}}),e)}))),500);case 3:case"end":return n.stop()}}),n)})))()},getStoreResByPositions:function(e){if(void 0!==e&&!Array.isArray(e)){var t=this.calculateKaiduoPrice(),n=this.calculateKaikongPrice();console.log("open"+t),this.storeRes=[],0!=e.long_pos&&void 0!==e.long_pos&&this.storeRes.push({avgPrice:t,pos:e.long_pos,benifit:void 0!==e.profit_estimate.long.pnl_benifit?e.profit_estimate.long.pnl_benifit:"",percent:void 0!==e.profit_estimate.long.pnl_percent?e.profit_estimate.long.pnl_percent:""}),0!=e.short_pos&&void 0!==e.short_pos&&this.storeRes.push({avgPrice:n,pos:e.short_pos,benifit:void 0!==e.profit_estimate.short.pnl_benifit?e.profit_estimate.short.pnl_benifit:"",percent:void 0!==e.profit_estimate.short.pnl_percent?e.profit_estimate.short.pnl_percent:""}),console.log("this.storeRes:"+JSON.stringify(this.storeRes))}},closeOtherSelect:function(e){this.$refs.delegateSelectRef.hideOptions()},transition:function(e){var t=e.detail.dx;this.$refs.tabs.setDx(t)},animationfinish:function(e){var t=e.detail.current;this.$refs.tabs.setFinishCurrent(t),this.activeTabIndex=t,this.current=t,console.log("animation finish")}}};t.default=I}).call(this,n("543d")["default"])},af67:function(e,t,n){"use strict";n.r(t);var i=n("f19f"),r=n("d229");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("b3a6"),n("2a95");var a,s=n("f0c5"),l=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);t["default"]=l.exports},b3a6:function(e,t,n){"use strict";var i=n("ce0a"),r=n.n(i);r.a},ce0a:function(e,t,n){},d229:function(e,t,n){"use strict";n.r(t);var i=n("73f3"),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},f19f:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"5137"))},uDropdown:function(){return n.e("uview-ui/components/u-dropdown/u-dropdown").then(n.bind(null,"8a30"))},uDropdownItem:function(){return n.e("uview-ui/components/u-dropdown-item/u-dropdown-item").then(n.bind(null,"5db2"))},uTabsSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs-swiper/u-tabs-swiper")]).then(n.bind(null,"97a5"))},uButton:function(){return n.e("uview-ui/components/u-button/u-button").then(n.bind(null,"a306"))},uGap:function(){return n.e("uview-ui/components/u-gap/u-gap").then(n.bind(null,"5e8d"))},uEmpty:function(){return n.e("uview-ui/components/u-empty/u-empty").then(n.bind(null,"2707"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"a8b1"))},uModal:function(){return n.e("uview-ui/components/u-modal/u-modal").then(n.bind(null,"db88"))},uniDrawer:function(){return n.e("components/uni-drawer/uni-drawer").then(n.bind(null,"4cea"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.options1.length>0?{backgroundColor:0==e.qualityBtnIndex?"#676D81":"rgba(255,255,255,0.1)",width:"110rpx"}:null),i=e.options1.length>0?{backgroundColor:1==e.qualityBtnIndex?"#676D81":"rgba(255,255,255,0.1)",width:"110rpx"}:null,r=e.options1.length>0?{backgroundColor:2==e.qualityBtnIndex?"#676D81":"rgba(255,255,255,0.1)",width:"110rpx"}:null,o=e.options1.length>0?{backgroundColor:3==e.qualityBtnIndex?"#676D81":"rgba(255,255,255,0.1)",width:"110rpx"}:null,a=e.options1.length>0?{"margin-right":"-12rpx"}:null,s=e.options1.length>0?e.__map(e.storeRes,(function(t,n){var i=e.__get_orig(t),r=e.getColor(t.benifit),o=e.getColor(t.percent);return{$orig:i,m0:r,m1:o}})):null,l=e.options1.length>0?e.__map(e.adjust_items,(function(t,n){var i=e.__get_orig(t),r=e.getEditFormLabel(t);return{$orig:i,m2:r}})):null;e._isMounted||(e.e0=function(t,n){var i=arguments[arguments.length-1].currentTarget.dataset,r=i.eventParams||i["event-params"];n=r.item;n.pos>0?e.oneKeyPingDuo():e.oneKeyPingKong()}),e.$mp.data=Object.assign({},{$root:{a0:n,a1:i,a2:r,a3:o,a4:a,l0:s,l1:l}})},o=[]},f2db:function(e,t,n){"use strict";(function(e){n("8d98");i(n("66fd"));var t=i(n("af67"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},f3b8:function(e,t,n){}},[["f2db","common/runtime","common/vendor"]]]);