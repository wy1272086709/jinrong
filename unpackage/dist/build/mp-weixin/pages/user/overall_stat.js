(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/overall_stat"],{"4f2c":function(t,e,a){},5376:function(t,e,a){"use strict";a.r(e);var i=a("e7c1"),r=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=r.a},"6bb4":function(t,e,a){"use strict";a.r(e);var i=a("8b11"),r=a("5376");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);a("ea3d");var n,l=a("f0c5"),c=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);e["default"]=c.exports},"6c28":function(t,e,a){"use strict";(function(t){a("8d98");i(a("66fd"));var e=i(a("6bb4"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"8b11":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uButton:function(){return a.e("uview-ui/components/u-button/u-button").then(a.bind(null,"a306"))}},r=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.statRes,(function(e,a){var i=t.__get_orig(e),r=parseFloat(e.data[0]),o=parseFloat(e.data[1]),n=parseFloat(e.data[1]),l=parseFloat(e.data[1]);return{$orig:i,m0:r,m1:o,m2:n,m3:l}}))),i={backgroundColor:0==t.date_limit?"#676D81":"rgba(255,255,255, 0.1)",color:0==t.date_limit?"#FFFFFF":"#C6C6C6"},r={backgroundColor:1==t.date_limit?"#676D81":"rgba(255,255,255, 0.1)",color:1==t.date_limit?"#FFFFFF":"#C6C6C6"},o={backgroundColor:2==t.date_limit?"#676D81":"rgba(255,255,255, 0.1)",color:2==t.date_limit?"#FFFFFF":"#C6C6C6"},n={backgroundColor:3==t.date_limit?"#676D81":"rgba(255,255,255, 0.1)",color:3==t.date_limit?"#FFFFFF":"#C6C6C6"};t.$mp.data=Object.assign({},{$root:{l0:a,a0:i,a1:r,a2:o,a3:n}})},o=[]},e7c1:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("2f62"),r=n(a("f670")),o=n(a("ef6c"));function n(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={},d={computed:c({},(0,i.mapState)(["strategistId"])),data:function(){return{statRes:[],pixelRatio:1,width:"",height:"",cWidth:"",cHeight:"",date_limit:0}},onLoad:function(){var e=t.getSystemInfoSync();console.log("info"+JSON.stringify(e)),this.width=e.windowWidth+"px",this.height=e.windowHeight+"px",this.cWidth=t.upx2px(666),this.cHeight=t.upx2px(500),this.getCategorySumStats(),this.getIncomeCurve(0)},methods:{touchLineA:function(t){u.scrollStart(t)},moveLineA:function(t){console.log("move lineA"),u.scroll(t)},incomeCurve:function(e,a){var i,r=this,n=a.categories.length,l=30;1==r.date_limit?l=183:2==r.date_limit?l=365:0==r.date_limit&&(l=30);var c=3==r.date_limit?n:l,d=4;d=0==r.date_limit&&n>4&&n<30?Math.floor(30/n*4):1==r.date_limit&&n<180?Math.floor(180/n*4):2==r.date_limit&&n<365?Math.floor(365/n*4):4;var f=t.createCanvasContext(e);u=new o.default((i={$this:r,canvasId:e,context:f,type:"line",fontSize:11,padding:[0,20,0,0],legend:{show:!0,padding:0,lineHeight:11,fontColor:"#999",margin:0},dataLabel:!1,dataPointShape:!1,background:"#333",pixelRatio:r.pixelRatio,categories:a.categories,series:a.series,enableMarkLine:!0,enableScroll:!0,xAxis:{type:"grid",disableGrid:!0,gridColor:"#999",boundaryGap:"justify",gridType:"dash",dashLength:8,labelCount:d,fontSize:10,itemCount:c}},s(i,"enableMarkLine",!0),s(i,"yAxis",{gridType:"dash",gridColor:"#999",dashLength:8,splitNumber:8,format:function(t){return t.toFixed(1)+""}}),s(i,"width",r.cWidth*r.pixelRatio),s(i,"height",r.cHeight*r.pixelRatio),s(i,"extra",{line:{type:"curve"},markLine:{type:"dash",data:{showLabel:!0}},tooltip:{showBox:!0,bgColor:"#000000",bgOpacity:.7,gridType:"dash",dashLength:5,gridColor:"#1890ff",fontColor:"#FFFFFF",horizentalLine:!0,xAxisLabel:!0,yAxisLabel:!1,labelBgColor:"#DFE8FF",labelBgOpacity:.95,labelFontColor:"#666666"}}),i))},getIncomeCurve:function(e){var a=this;this.date_limit=e;this.strategistId;var i=getApp().globalData.serverUrl+"/strategys/profit/yield_curverch",o=t.getStorageSync("wx_login_token"),n={token:o,filterData:!0,date_limit:e};n.strategist_id=this.strategistId,r.default.request(i,n).then((function(t){if(1==t.status){var e=t.data;console.log("data"),a.incomeCurve("canvasLineA",{categories:e.categories,series:e.series})}}))},getCategorySumStats:function(){var e=this,a=getApp().globalData.serverUrl+"/strategys/overall_stats",i=t.getStorageSync("wx_login_token"),o={token:i,filterData:!0};o.strategist_id=this.strategistId,r.default.request(a,o).then((function(t){if(1==t.status){var a=t.data;e.overall_info=a.overall,e.statRes=[{label:"总收益",data:[a.overall.accumulated_income,a.overall.cumulative_rate+"%"]},{label:"近一月收益",data:[a.overall.earnings.month,a.overall.nearly_month+"%"]},{label:"七日收益",data:[a.overall.earnings.week,a.overall.nearly_week+"%"]}]}}))},touchEndLineA:function(t){u.scrollEnd(t),u.touchLegend(t),u.showToolTip(t,{format:function(t,e){return e=e.replace(/\-/g,"/"),e+" "+t.name+":"+t.data}})}}};e.default=d}).call(this,a("543d")["default"])},ea3d:function(t,e,a){"use strict";var i=a("4f2c"),r=a.n(i);r.a}},[["6c28","common/runtime","common/vendor"]]]);