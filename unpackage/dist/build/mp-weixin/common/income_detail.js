(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/income_detail"],{"0dee":function(t,e,a){"use strict";a.r(e);var n=a("eca2"),o=a("7575");for(var r in o)"default"!==r&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("eebc");var i,s=a("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=c.exports},7575:function(t,e,a){"use strict";a.r(e);var n=a("ca08"),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},c581:function(t,e,a){},ca08:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),o=i(a("f670")),r=i(a("4995"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e,a,n,o,r,i){try{var s=t[r](i),c=s.value}catch(l){return void a(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,o){var r=t.apply(e,a);function i(t){c(r,n,o,i,s,"next",t)}function s(t){c(r,n,o,i,s,"throw",t)}i(void 0)}))}}var u=function(){a.e("components/table").then(function(){return resolve(a("89aa"))}.bind(null,a)).catch(a.oe)},d={},f={data:function(){return{basicInfoList:[{name:"stragegy_period",val:""},{name:"start_time",val:""},{name:"run_times",val:""},{name:"contract",val:""},{name:"exchange",val:""}],pixelRatio:1,cWidth:"",cHeight:"",days:30,scrollHeight:"",backStyle:{},data:[],chartData:{categories:[],series:[]},columns:[],colW:"",list:[{name:"近一月"},{name:"近半年"},{name:"近一年"},{name:"近三年"}],current:0}},props:{sName:{type:String,default:""}},components:{vtable:u},watch:{sName:function(e,a){e&&(this.columns=[{title:"",key:"profit_type",$width:t.upx2px(171.5)},{title:"策略收益(%)",key:"strategy_profit",$width:t.upx2px(171.5)},{title:"持有收益(%)",key:"market_profit",$width:t.upx2px(171)},{title:"最大回撤(%)",key:"profit_drawdown",$width:t.upx2px(171)}],console.log(this.sName+"this.sName;"),this.getSingleStrategyStatData(this.sName),this.getProfitCurve(this.sName,30))}},onPullDownRefresh:function(){var e=this;return l(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getSingleStrategyStatData(e.sName);case 2:return a.next=4,e.getProfitCurve(e.sName,30);case 4:t.stopPullDownRefresh();case 5:case"end":return a.stop()}}),a)})))()},created:function(){var e=this;return l(n.default.mark((function a(){var o,r;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=t.getSystemInfoSync(),e.cWidth=t.upx2px(666),e.cHeight=t.upx2px(500),console.log("info2"+JSON.stringify(o)),e.isIphoneX=getApp().globalData.isIphoneX,r=e.isIphoneX?t.upx2px(68):0,console.log("padding2:"+r),e.scrollHeight=o.windowHeight-t.upx2px(80)-r-t.upx2px(3)-3+"px";case 8:case"end":return a.stop()}}),a)})))()},beforeDestroy:function(){console.log("component destory...")},methods:{sectionChange:function(t){switch(console.log("sectionchange"),t){case 0:console.log("sectionchange0"),this.getStatData(30);break;case 1:console.log("sectionchange1"),this.getStatData(183);break;case 2:console.log("sectionchange2"),this.getStatData(365);break;case 3:console.log("sectionchange3"),this.getStatData(0);break;default:console.log("sectionchange9");break}},getTouchMove:function(t){console.log("获取TouchMove",t)},clickSwithTab:function(t){},measureText:function(){return""},getStatData:function(t){this.days=t,this.getProfitCurve(this.sName,t)},incomeCurve:function(t,e){var a,n=this,o=e.categories.length,i=0==n.days?o:n.days,c=4;c=30==i&&o>4&&o<30?Math.floor(30/o*4):183==i&&o<180?Math.floor(180/o*4):365==i&&o<365?Math.floor(365/o*4):4,d=new r.default((a={$this:n,canvasId:t,type:"line",fontSize:11,padding:[0,0,0,0],legend:{show:!0,padding:0,lineHeight:11,margin:0,fontColor:"#FFFFFF"},colors:["#0BF4FD","#EE4368","#0BF4FD","#EE4368"],dataLabel:!1,dataPointShape:!1,background:"rgba(255, 255, 255, 0.1)",pixelRatio:n.pixelRatio,categories:e.categories,series:e.series,enableMarkLine:!0,enableScroll:!0,xAxis:{type:"grid",disableGrid:!0,gridColor:"#FFFFFF",boundaryGap:"justify",gridType:"solid",dashLength:8,labelCount:c,fontSize:8,itemCount:i}},s(a,"enableMarkLine",!0),s(a,"yAxis",{gridType:"solid",gridColor:"#FFFFFF",dashLength:8,splitNumber:8,format:function(t){return t.toFixed(0)+"%"}}),s(a,"width",n.cWidth*n.pixelRatio),s(a,"height",n.cHeight*n.pixelRatio),s(a,"extra",{line:{type:"curve"},legendTextColor:"#0BF4FD",markLine:{type:"dash",data:{showLabel:!0}},tooltip:{showBox:!0,bgColor:"#000000",bgOpacity:1,gridType:"dash",dashLength:5,gridColor:"#1890ff",fontColor:"#FFFFFF",horizentalLine:!0,xAxisLabel:!0,yAxisLabel:!0,labelBgColor:"#FFFFFF",labelBgOpacity:.95,labelFontColor:"#666666"}}),a))},back:function(){t.navigateBack({delta:1})},getProfitCurve:function(e,a){var r=this;return l(n.default.mark((function i(){var s,c,l,u;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=getApp().globalData.serverUrl+"/strategys/yield_history",c=t.getStorageSync("wx_login_token"),n.next=4,o.default.request(s,{token:c,sname:e,days:a,filterData:!0});case 4:l=n.sent,1==l.status&&(u=l.data,r.chartData.categories=u.categories,r.chartData.series=u.series,console.log("data is: "+r.chartData.categories+" "+r.chartData.series));case 6:case"end":return n.stop()}}),i)})))()},touchLineA:function(t){d.scrollStart(t)},moveLineA:function(t){console.log("move lineA"),d.scroll(t)},touchEndLineA:function(t){d.scrollEnd(t),d.touchLegend(t),d.showToolTip(t,{format:function(t,e){return e=e.replace(/\-/g,"/"),e+" "+t.name+":"+t.data+"%"}})},getSingleStrategyStatData:function(e){var a=this;return l(n.default.mark((function r(){var i,s,c,l,u,d,f,g;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=getApp().globalData.serverUrl+"/strategys/single_stats",s=t.getStorageSync("wx_login_token"),n.next=4,o.default.request(i,{token:s,sname:e,filterData:!0});case 4:c=n.sent,1==c.status&&(l=c.data,u=l.window?l.window:l.windows,a.basicInfoList=[{name:"stragegy_period",val:u},{name:"start_time",val:l.start_datetime},{name:"run_times",val:l.run_time},{name:"contract",val:l.swap_exchange.trading},{name:"exchange",val:l.swap_exchange.exchange}],d=l.yield_strategy,f=l.yield_market,g=l.profit_drawdown,a.data=[{label:"近一个月",strategy_profit:d.month,market_profit:f.month,profit_drawdown:void 0===g.month.drawdown_rate?"/":g.month.drawdown_rate},{label:"近半年",strategy_profit:d.halfyear,market_profit:f.halfyear,profit_drawdown:void 0===g.halfYear.drawdown_rate?"/":g.halfYear.drawdown_rate},{label:"近1年",strategy_profit:d.year,market_profit:f.year,profit_drawdown:void 0===g.year.drawdown_rate?"/":g.year.drawdown_rate},{label:"累计",strategy_profit:d.total,market_profit:f.total,profit_drawdown:void 0===g.total.drawdown_rate?"/":g.total.drawdown_rate}]);case 6:case"end":return n.stop()}}),r)})))()},getColor:function(t){var e="";if(void 0!==t)return 0==t?e="#FFFFFF":t<0?e="#ED4066":t>0&&(e="#0BF4FD"),e;e="#FFFFFF"}}};e.default=f}).call(this,a("543d")["default"])},eca2:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n}));var n={qiunDataCharts:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(a.bind(null,"188c"))},uSubsection:function(){return a.e("uview-ui/components/u-subsection/u-subsection").then(a.bind(null,"9a8b"))},uTable:function(){return a.e("uview-ui/components/u-table/u-table").then(a.bind(null,"c8a0"))},uTr:function(){return a.e("uview-ui/components/u-tr/u-tr").then(a.bind(null,"eb13"))},uTh:function(){return a.e("uview-ui/components/u-th/u-th").then(a.bind(null,"baac"))},uTd:function(){return a.e("uview-ui/components/u-td/u-td").then(a.bind(null,"bc51"))}},o=function(){var t=this,e=t.$createElement,a=(t._self._c,t.__map(t.data,(function(e,a){var n=t.__get_orig(e),o={color:t.getColor(e.strategy_profit)},r={color:t.getColor(e.market_profit)};return{$orig:n,a0:o,a1:r}})));t.$mp.data=Object.assign({},{$root:{l0:a}})},r=[]},eebc:function(t,e,a){"use strict";var n=a("c581"),o=a.n(n);o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'common/income_detail-create-component',
    {
        'common/income_detail-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("0dee"))
        })
    },
    [['common/income_detail-create-component']]
]);
