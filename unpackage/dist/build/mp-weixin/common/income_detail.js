(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/income_detail"],{"0733":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={qiunDataCharts:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(a.bind(null,"188c"))},uButton:function(){return a.e("uview-ui/components/u-button/u-button").then(a.bind(null,"a306"))},uTable:function(){return a.e("uview-ui/components/u-table/u-table").then(a.bind(null,"c8a0"))},uTr:function(){return a.e("uview-ui/components/u-tr/u-tr").then(a.bind(null,"eb13"))},uTh:function(){return a.e("uview-ui/components/u-th/u-th").then(a.bind(null,"baac"))},uTd:function(){return a.e("uview-ui/components/u-td/u-td").then(a.bind(null,"bc51"))}},r=function(){var t=this,e=t.$createElement,a=(t._self._c,{yAxis:{data:[{format:"yAxisDemo2"}]}}),n={color:30==t.days?"#FFFFFF":"#ADADBD",backgroundColor:"rgba(0,0,0, 0.2)"},r={color:183==t.days?"#FFFFFF":"#ADADBD",backgroundColor:"rgba(0, 0, 0, 0.2)"},o={color:365==t.days?"#FFFFFF":"#ADADBD",backgroundColor:"rgba(0, 0, 0, 0.2)"},i={color:0==t.days?"#FFFFFF":"#ADADBD",backgroundColor:"rgba(0,0, 0, 0.2)"},l=t.__map(t.data,(function(e,a){var n=t.__get_orig(e),r={color:t.getColor(e.strategy_profit)},o={color:t.getColor(e.market_profit)},i={color:t.getColor(e.profit_drawdown)};return{$orig:n,a5:r,a6:o,a7:i}}));t.$mp.data=Object.assign({},{$root:{a0:a,a1:n,a2:r,a3:o,a4:i,l0:l}})},o=[]},"0dee":function(t,e,a){"use strict";a.r(e);var n=a("0733"),r=a("7575");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);a("eebc");var i,l=a("f0c5"),u=Object(l["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=u.exports},7575:function(t,e,a){"use strict";a.r(e);var n=a("ca08"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=r.a},c581:function(t,e,a){},ca08:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),r=i(a("f670")),o=i(a("4995"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function u(t,e,a,n,r,o,i){try{var l=t[o](i),u=l.value}catch(s){return void a(s)}l.done?e(u):Promise.resolve(u).then(n,r)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function i(t){u(o,n,r,i,l,"next",t)}function l(t){u(o,n,r,i,l,"throw",t)}i(void 0)}))}}var c=function(){a.e("components/table").then(function(){return resolve(a("89aa"))}.bind(null,a)).catch(a.oe)},d={},f={data:function(){return{basicInfoList:[{name:"stragegy_period",val:""},{name:"start_time",val:""},{name:"run_times",val:""},{name:"contract",val:""},{name:"exchange",val:""}],pixelRatio:1,cWidth:"",cHeight:"",days:30,scrollHeight:"",backStyle:{},data:[],chartData:{categories:[],series:[]},columns:[],colW:""}},props:{sName:{type:String,default:""}},components:{vtable:c},watch:{sName:function(e,a){e&&(this.columns=[{title:"",key:"profit_type",$width:t.upx2px(171.5)},{title:"策略收益(%)",key:"strategy_profit",$width:t.upx2px(171.5)},{title:"持有收益(%)",key:"market_profit",$width:t.upx2px(171)},{title:"最大回撤(%)",key:"profit_drawdown",$width:t.upx2px(171)}],console.log(this.sName+"this.sName;"),this.getSingleStrategyStatData(this.sName),this.getProfitCurve(this.sName,30))}},onPullDownRefresh:function(){var e=this;return s(n.default.mark((function a(){return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getSingleStrategyStatData(e.sName);case 2:return a.next=4,e.getProfitCurve(e.sName,30);case 4:t.stopPullDownRefresh();case 5:case"end":return a.stop()}}),a)})))()},created:function(){var e=this;return s(n.default.mark((function a(){var r,o;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=t.getSystemInfoSync(),e.cWidth=t.upx2px(666),e.cHeight=t.upx2px(500),console.log("info2"+JSON.stringify(r)),e.isIphoneX=getApp().globalData.isIphoneX,o=e.isIphoneX?t.upx2px(68):0,console.log("padding2:"+o),e.scrollHeight=r.windowHeight-t.upx2px(80)-o-t.upx2px(3)-3+"px";case 8:case"end":return a.stop()}}),a)})))()},beforeDestroy:function(){console.log("component destory...")},methods:{clickSwithTab:function(t){},measureText:function(){return""},getStatData:function(t){this.days=t,this.getProfitCurve(this.sName,t)},incomeCurve:function(t,e){var a,n=this,r=e.categories.length,i=0==n.days?r:n.days,u=4;u=30==i&&r>4&&r<30?Math.floor(30/r*4):183==i&&r<180?Math.floor(180/r*4):365==i&&r<365?Math.floor(365/r*4):4,d=new o.default((a={$this:n,canvasId:t,type:"line",fontSize:11,padding:[0,0,0,0],legend:{show:!0,padding:0,lineHeight:11,margin:0,fontColor:"#FFFFFF"},colors:["#0BF4FD","#EE4368","#0BF4FD","#EE4368"],dataLabel:!1,dataPointShape:!1,background:"rgba(255, 255, 255, 0.1)",pixelRatio:n.pixelRatio,categories:e.categories,series:e.series,enableMarkLine:!0,enableScroll:!0,xAxis:{type:"grid",disableGrid:!0,gridColor:"#FFFFFF",boundaryGap:"justify",gridType:"solid",dashLength:8,labelCount:u,fontSize:8,itemCount:i}},l(a,"enableMarkLine",!0),l(a,"yAxis",{gridType:"solid",gridColor:"#FFFFFF",dashLength:8,splitNumber:8,format:function(t){return t.toFixed(0)+"%"}}),l(a,"width",n.cWidth*n.pixelRatio),l(a,"height",n.cHeight*n.pixelRatio),l(a,"extra",{line:{type:"curve"},legendTextColor:"#0BF4FD",markLine:{type:"dash",data:{showLabel:!0}},tooltip:{showBox:!0,bgColor:"#000000",bgOpacity:1,gridType:"dash",dashLength:5,gridColor:"#1890ff",fontColor:"#FFFFFF",horizentalLine:!0,xAxisLabel:!0,yAxisLabel:!0,labelBgColor:"#FFFFFF",labelBgOpacity:.95,labelFontColor:"#666666"}}),a))},back:function(){t.navigateBack({delta:1})},getProfitCurve:function(e,a){var o=this;return s(n.default.mark((function i(){var l,u,s,c;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return l=getApp().globalData.serverUrl+"/strategys/yield_history",u=t.getStorageSync("wx_login_token"),n.next=4,r.default.request(l,{token:u,sname:e,days:a,filterData:!0});case 4:s=n.sent,1==s.status&&(c=s.data,o.chartData.categories=c.categories,o.chartData.series=c.series,console.log("data is: "+o.chartData.categories+" "+o.chartData.series));case 6:case"end":return n.stop()}}),i)})))()},touchLineA:function(t){d.scrollStart(t)},moveLineA:function(t){console.log("move lineA"),d.scroll(t)},touchEndLineA:function(t){d.scrollEnd(t),d.touchLegend(t),d.showToolTip(t,{format:function(t,e){return e=e.replace(/\-/g,"/"),e+" "+t.name+":"+t.data+"%"}})},getSingleStrategyStatData:function(e){var a=this;return s(n.default.mark((function o(){var i,l,u,s,c,d,f,g;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=getApp().globalData.serverUrl+"/strategys/single_stats",l=t.getStorageSync("wx_login_token"),n.next=4,r.default.request(i,{token:l,sname:e,filterData:!0});case 4:u=n.sent,1==u.status&&(s=u.data,c=s.window?s.window:s.windows,a.basicInfoList=[{name:"stragegy_period",val:c},{name:"start_time",val:s.start_datetime},{name:"run_times",val:s.run_time},{name:"contract",val:s.swap_exchange.trading},{name:"exchange",val:s.swap_exchange.exchange}],d=s.yield_strategy,f=s.yield_market,g=s.profit_drawdown,a.data=[{label:"近一个月",strategy_profit:d.month,market_profit:f.month,profit_drawdown:void 0===g.month.drawdown_rate?"/":g.month.drawdown_rate},{label:"近半年",strategy_profit:d.halfyear,market_profit:f.halfyear,profit_drawdown:void 0===g.halfYear.drawdown_rate?"/":g.halfYear.drawdown_rate},{label:"近1年",strategy_profit:d.year,market_profit:f.year,profit_drawdown:void 0===g.year.drawdown_rate?"/":g.year.drawdown_rate},{label:"累计",strategy_profit:d.total,market_profit:f.total,profit_drawdown:void 0===g.total.drawdown_rate?"/":g.total.drawdown_rate}]);case 6:case"end":return n.stop()}}),o)})))()},getColor:function(t){var e="";if(void 0!==t)return 0==t?e="#FFFFFF":t<0?e="#ED4066":t>0&&(e="#0BF4FD"),e;e="#FFFFFF"}}};e.default=f}).call(this,a("543d")["default"])},eebc:function(t,e,a){"use strict";var n=a("c581"),r=a.n(n);r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'common/income_detail-create-component',
    {
        'common/income_detail-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("0dee"))
        })
    },
    [['common/income_detail-create-component']]
]);
